<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Message Channel</title>
</head>
<body>


<script>
  let messageChannel = new MessageChannel();

  var port1 = messageChannel.port1;
  var port2 = messageChannel.port2;

  port1.onmessage = (event) => {
    console.log('port1接收到了来自于port2的数据' + event.data);
  }

  port2.postMessage('发送给port1的数据')
</script>
  
</body>
</html>